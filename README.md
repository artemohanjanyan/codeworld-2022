# Haskell via Sokoban

–ü–æ–∏–≥—Ä–∞—Ç—å –≤ –∏–≥—Ä—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã –Ω–∞–ø–∏—à–µ—Ç–µ, –µ—Å–ª–∏ —Å–¥–µ–ª–∞–µ—Ç–µ –≤—Å–µ –î–ó, –º–æ–∂–Ω–æ [—Ç—É—Ç](https://code.world/run.html?mode=haskell&dhash=Do_TSjo_kT2I_94n5lv6w4Q).

–°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: https://code.world/haskell

–®–∞–±–ª–æ–Ω –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∂–µ–ª–∞—é—â–∏—Ö —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–¥–æ–º –ª–æ–∫–∞–ª—å–Ω–æ: https://github.com/artemohanjanyan/codeworld-template

–ó–∞–Ω—è—Ç–∏—è –≤–µ–¥—É—Ç—Å—è –ø–æ [—ç—Ç–æ–º—É –º–∞—Ç–µ—Ä–∏–∞–ª—É](https://haskell-via-sokoban.nomeata.de/).

# –õ–µ–∫—Ü–∏—è ‚Ññ1

[–ó–∞–ø–∏—Å—å –ª–µ–∫—Ü–∏–∏](https://youtu.be/_6pB7kkFO3Y).

–ö–æ–¥ —Å –ª–µ–∫—Ü–∏–∏: [GitHub](Lectures/Lec1.hs), [CodeWorld](https://code.world/haskell#PLdEYQSrD0LMQywOPfzcYcA).

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ1

–ü—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏–π –ø—ã—Ç–∞–π—Ç–µ—Å—å –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∏—Å–∞—Ç—å —Ö–æ—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –¥–µ–ª–∞—Ç—å –µ–≥–æ –∫—Ä–∞—Å–∏–≤—ã–º –∏ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º. –ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–Ω—É –º–∞–ª–µ–Ω—å–∫—É—é –∑–∞–¥–∞—á—É, –∏ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ò–∑–±–µ–≥–∞–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∫–æ–¥–∞.

–í –∑–∞–¥–∞–Ω–∏—è—Ö –≤–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∏—Å—É–Ω–∫–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–π. –ë—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω–æ, —á—Ç–æ –æ—Ç –≤–∞—Å —Ç—Ä–µ–±—É–µ—Ç—Å—è, –Ω–æ –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å –æ—Ç —Å–µ–±—è, –¥–∞–π—Ç–µ –≤–æ–ª—é —Å–≤–æ–µ–º—É —Ç–≤–æ—Ä—á–µ—Å—Ç–≤—É üíÉ

–ü—Ä–∏—Å—ã–ª–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è –º–Ω–µ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º @artemohanjanyan –≤ –ª—é–±–æ–º —É–¥–æ–±–Ω–æ–º –≤–∞–º –≤–∏–¥–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ code.world.

### 1.1 –°–≤–µ—Ç–æ—Ñ–æ—Ä
–ù–∞ –ª–µ–∫—Ü–∏–∏ –º—ã —Å–¥–µ–ª–∞–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—é –¥–≤—É—Ü–≤–µ—Ç–Ω–æ–≥–æ —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞. –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ –∂—ë–ª—Ç—ã–π —Å–≤–µ—Ç –∏ –∞–Ω–∏–º–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–∑—ã —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞:

- –î–ª–∏–Ω–Ω–∞—è —Ñ–∞–∑–∞ –∑–µ–ª—ë–Ω–æ–≥–æ —Å–≤–µ—Ç–∞;
- –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–∞–∑–∞ –∂—ë–ª—Ç–æ–≥–æ —Å–≤–µ—Ç–∞;
- –î–ª–∏–Ω–Ω–∞—è —Ñ–∞–∑–∞ –∫—Ä–∞—Å–Ω–æ–≥–æ —Å–≤–µ—Ç–∞;
- –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–∞–∑–∞ –∫—Ä–∞—Å–Ω–æ–≥–æ —Å –∂—ë–ª—Ç—ã–º;
- –û–±—Ä–∞—Ç–Ω–æ –∫ –∑–µ–ª—ë–Ω–æ–º—É —Å–≤–µ—Ç—É.

–ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ñ–∞–∑, —á—Ç–æ–±—ã —Å–≤–µ—Ç–æ—Ñ–æ—Ä—ã –±—ã–ª–∏ –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–∏ –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ.

[–ö–æ–¥ —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞ —Å –ª–µ–∫—Ü–∏–∏](https://code.world/haskell#Puzl_r5WNKnabTJkU4sjHgQ), –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Å –Ω–µ–≥–æ.

–ü—Ä–∏–º–µ—Ä:

![–ü—Ä–∏–º–µ—Ä](media/traffic_light.gif)

[–†–µ—à–µ–Ω–∏–µ](Solutions/1.1.hs), [–†–∞–∑–±–æ—Ä](https://youtu.be/7meF_qrOqx4).

### 1.2 –¶–≤–µ—Ç—É—â–∏–µ –¥–µ—Ä–µ–≤—å—è
–ù–∞ –ª–µ–∫—Ü–∏–∏ –º—ã –Ω–∞—Ä–∏—Å–æ–≤–∞–ª–∏ –¥–µ—Ä–µ–≤–æ, –Ω–æ –æ–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å—É—Ö–æ–≤–∞—Ç–æ.

```haskell
tree :: Integer -> Picture
tree 0 = blank
tree n = polyline [(0,0),(0,1)] & translated 0 1 (
  rotated (pi/10) (tree (n-1)) & rotated (- pi/10) (tree (n-1)))
```

–°–¥–µ–ª–∞–π—Ç–µ, —á—Ç–æ–±—ã –æ–Ω–æ –∑–∞—Ü–≤–µ–ª–æ! –°–æ–∑–¥–∞–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é –¥–µ—Ä–µ–≤–∞, –∫–æ—Ç–æ—Ä–æ–µ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å—É—Ö–æ–µ –¥–µ—Ä–µ–≤–æ —Å –ª–µ–∫—Ü–∏–∏, –∞ –∑–∞—Ç–µ–º –Ω–∞—á–∏–Ω–∞–µ—Ç —Ü–≤–µ—Å—Ç–∏ –Ω–∞ –∫—Ä–∞–π–Ω–∏—Ö –≤–µ—Ç–∫–∞—Ö. –í —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ —Ü–≤–µ—Ç—ã –Ω–∞ –≤–µ—Ç–∫–∞—Ö –¥–æ–ª–∂–Ω—ã —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è. –ß–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –¥–µ—Ä–µ–≤–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞—Å—Ü–≤–µ—Å—Ç–∏, –∏ –∞–Ω–∏–º–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≥–æ, –∫–∞–∫ –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ü–≤–µ—Ç–∫–∏ –Ω–∞ –¥–µ—Ä–µ–≤—å—è—Ö: üü°, üíÆ, üåª, üèµÔ∏è.

–í –∫–æ–¥–µ —Å–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –¥–µ—Ä–µ–≤–∞ –Ω–µ –∑–∞–≤–∏—Å–∏–ª–∞ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ü–≤–µ—Ç–æ–∫.

–ü—Ä–∏–º–µ—Ä:

![–ü—Ä–∏–º–µ—Ä](media/tree.gif)

[–†–µ—à–µ–Ω–∏–µ](Solutions/1.2.hs), [–†–∞–∑–±–æ—Ä](https://youtu.be/2fVzBF8MB-M).

### 1.3 –ü–æ–ª–µ –¥–ª—è –∏–≥—Ä—ã –°–æ–∫–æ–±–∞–Ω
–ö –∫–æ–Ω—Ü—É –∫—É—Ä—Å–∞ –≤—ã —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ –∏–≥—Ä—É –°–æ–∫–æ–±–∞–Ω. –ú–æ–∂–µ—Ç–µ –ø–æ—á–∏—Ç–∞—Ç—å –ø—Ä–æ –∏–≥—Ä—É [–Ω–∞ –≤–∏–∫–∏–ø–µ–¥–∏–∏](https://uk.wikipedia.org/wiki/Sokoban), —Ç–∞–º –µ—â—ë –µ—Å—Ç—å –∫–ª–∞—Å—Å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è.

>–ì—Ä–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–∞ –¥–æ—à—Ü—ñ –∑ –∫–≤–∞–¥—Ä–∞—Ç—ñ–≤, –¥–µ –∫–æ–∂–µ–Ω –∫–≤–∞–¥—Ä–∞—Ç —î –ø—ñ–¥–ª–æ–≥–æ—é –∞–±–æ —Å—Ç—ñ–Ω–æ—é. –î–µ—è–∫—ñ –∫–≤–∞–¥—Ä–∞—Ç–∏ –º—ñ—Å—Ç—è—Ç—å —è—â–∏–∫–∏, –∞ –¥–µ—è–∫—ñ ‚Äî –ø–æ–∑–Ω–∞—á–µ–Ω—ñ, —è–∫ —ó—Ö–Ω—ñ –º—ñ—Å—Ü—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è.

>–ì—Ä–∞–≤–µ—Ü—å –æ–±–º–µ–∂–µ–Ω–∏–π –¥–æ—à–∫–æ—é, —ñ –º–æ–∂–µ —Ä—É—Ö–∞—Ç–∏—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –∞–±–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –Ω–∞ –ø–æ—Ä–æ–∂–Ω—ñ –∫–≤–∞–¥—Ä–∞—Ç–∏ (–Ω–µ —á–µ—Ä–µ–∑ —Å—Ç—ñ–Ω–∏ –∞–±–æ —è—â–∏–∫–∏). –¢–∞–∫–æ–∂ –≥—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏—Å—è –Ω–∞ –º—ñ—Å—Ü–µ —è—â–∏–∫–∞, —à—Ç–æ–≤—Ö–∞—é—á–∏ –π–æ–≥–æ –Ω–∞ –≤—ñ–ª—å–Ω–µ –º—ñ—Å—Ü–µ –∑–∞ –Ω–∏–º. –Ø—â–∏–∫ –Ω–µ –º–æ–∂–Ω–∞ —Ä—É—Ö–∞—Ç–∏ –Ω–∞  —ñ–Ω—à–∏–π —è—â–∏–∫ –∞–±–æ —Å—Ç—ñ–Ω—É. –ö—ñ–ª—å–∫—ñ—Å—Ç—å —è—â–∏–∫—ñ–≤ –¥–æ—Ä—ñ–≤–Ω—é—î –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –º—ñ—Å—Ü—å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è. –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞ –≤–∏—Ä—ñ—à–µ–Ω–∞, –∫–æ–ª–∏ –≤—Å—ñ —è—â–∏–∫–∏ –æ–ø–∏–Ω–∏–ª–∏—Å—å –Ω–∞ –º—ñ—Å—Ü—è—Ö –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è.

–í —ç—Ç–æ–º –∑–∞–¥–∞–Ω–∏–∏ –Ω–∞–¥–æ –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∏—Å–æ–≤–∞—Ç—å –≤—Å—ë, —á—Ç–æ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è:
1. –°—Ç–µ–Ω—ã;
2. –ó–µ–º–ª—é, —Ç.–µ. –ø—É—Å—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ;
3. –ó–µ–º–ª—é —Å –º–µ—Ç–∫–æ–π, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø–æ–¥–≤–∏–Ω—É—Ç—å —è—â–∏–∫;
4. –Ø—â–∏–∫–∏.

–ú–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Å [—ç—Ç–æ–≥–æ –∫–æ–¥–∞](https://code.world/haskell#PhaxQVa5_9uWXva_quQwPcA).

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ `wall`, `ground`, `storage` –∏ `box` —Ç–∏–ø–∞ `Picture`, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∏—Å—É—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è. –ö–∞–∂–¥–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —à–∏—Ä–∏–Ω—ã –∏ –≤—ã—Å–æ—Ç—ã 1, —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ. –ß–µ–º –ø–æ–ª—è –∫—Ä–∞—Å–∏–≤–µ–µ, —Ç–µ–º –≤ –∏–≥—Ä—É –ø—Ä–∏—è—Ç–Ω–µ–µ –∏–≥—Ä–∞—Ç—å üôÇ

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `drawTile :: Integer -> Picture`, –∫–æ—Ç–æ—Ä–∞—è —Ä–∏—Å—É–µ—Ç –ø–æ–ª–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –Ω–æ–º–µ—Ä–∞ –æ—Ç 1 –¥–æ 4 –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ. –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —ç—Ç–æ –Ω–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 4, —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –Ω–∏—á–µ–≥–æ —Ä–∏—Å–æ–≤–∞—Ç—å (–Ω–æ –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–∞–¥–∞—Ç—å).

–£—Ä–æ–≤–µ–Ω—å –∏–≥—Ä—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ —Ñ—É–∫–Ω—Ü–∏—è —Ç–∏–ø–∞ `Integer -> Integer -> Integer`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –∫–ª–µ—Ç–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä –≤–∏–¥–∞ –ø–æ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ. –ü–æ–∫–∞ —á—Ç–æ —É –Ω–∞—Å –±—É–¥–µ—Ç –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å:

```haskell
maze :: Integer -> Integer -> Integer
maze x y
  | abs x > 4  || abs y > 4  = 0
  | abs x == 4 || abs y == 4 = 1
  | x ==  2 && y <= 0        = 1
  | x ==  3 && y <= 0        = 3
  | x >= -2 && y == 0        = 4
  | otherwise                = 2
```

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç —É—Ä–æ–≤–µ–Ω—å:

```haskell
pictureOfMaze :: Picture
```
–û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (x,‚ÄÜy), –≥–¥–µ x,‚ÄÜy‚ÄÑ‚àà‚ÄÑ[-10‚Ä¶10], –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∏–¥ –ø–æ–ª—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `maze`, –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `drawTile`, –∏ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `translated` –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø–æ–ª–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ –ø–æ–∑–∏—Ü–∏—é.

–ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ `manyTrafficLights` —Å –ª–µ–∫—Ü–∏–∏. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —É –≤–∞—Å –±—É–¥–µ—Ç –æ–¥–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Å—Ç—Ä–æ—á–∫—É –∑–∞ —Å—Ç—Ä–æ—á–∫–æ–π, –∏ —Å—Ç—Ä–æ—á–∫–∏, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –±—É–¥—É—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–æ–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å –ø–æ–ª–µ –≤ –∫–∞–∂–¥–æ–º —Å—Ç–æ–ª–±—Ü–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–æ—á–∫–∏.

–§—É–∫—Ü–∏—è `main` –¥–æ–ª–∂–Ω–∞ —Ä–∏—Å–æ–≤–∞—Ç—å `pictureOfMaze`.

–ü—Ä–∏–º–µ—Ä:

![–ü—Ä–∏–º–µ—Ä](media/sokoban_map.jpg)

[–†–µ—à–µ–Ω–∏–µ](Solutions/1.3.hs), [–†–∞–∑–±–æ—Ä](https://youtu.be/OtoZRp8twbY).

# –õ–µ–∫—Ü–∏—è ‚Ññ2

[–ó–∞–ø–∏—Å—å –ª–µ–∫—Ü–∏–∏](https://youtu.be/GgmFWDZSqLE).

–ö–æ–¥ —Å –ª–µ–∫—Ü–∏–∏: [GitHub](Lectures/Lec2.hs), [CodeWorld](https://code.world/haskell#P_zf_4OMwaBegYiSnS16xUQ).

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ2

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –î–ó –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Å [–∫–æ–¥–∞ —Å –ª–µ–∫—Ü–∏–∏](https://code.world/haskell#P_zf_4OMwaBegYiSnS16xUQ), –∏–ª–∏ —Å–æ —Å–≤–æ–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –î–ó, –µ—Å–ª–∏ –≤—ã —Ç–∞–º –Ω–∞—Ä–∏—Å–æ–≤–∞–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–ª—É—á—à–µ –æ–¥–Ω–æ—Ü–≤–µ—Ç–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤.

–ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è.

### 2.1 –î–≤–∏–≥–∞—é—â–∏–π—Å—è —á–µ–ª–æ–≤–µ—á–µ–∫

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `player :: Picture`, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —á–µ–ª–æ–≤–µ—á–∫–∞.

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ `main` —Å –ø–æ–º–æ—â—å—é `activityOf` —Ç–∞–∫, —á—Ç–æ–±—ã:
- —á–µ–ª–æ–≤–µ—á–µ–∫ —Ä–∏—Å–æ–≤–∞–ª—Å—è –ø–æ–≤–µ—Ä—Ö –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è,
- –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –Ω–∞—Ö–æ–¥–∏–ª—Å—è –Ω–∞ –∑–µ–º–ª–µ,
- —Å—Ç—Ä–µ–ª–∫–∏ –ø–µ—Ä–µ–¥–≤–∏–≥–∞–ª–∏ —á–µ–ª–æ–≤–µ—á–∫–∞ –ø–æ –∏–≥—Ä–æ–≤–æ–º—É –ø–æ–ª—é (–ø–æ–ª–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –Ω–µ –¥–æ–ª–∂–Ω–æ),
- —á–µ–ª–æ–≤–µ—á–µ–∫ –ø–µ—Ä–µ–¥–≤–∏–≥–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–ª—è –∑–µ–º–ª–∏ –∏–ª–∏ –∑–µ–º–ª–∏ —Å –º–µ—Ç–∫–æ–π. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–¥–≤–∏–Ω—É—Ç—å—Å—è –Ω–∞ —è—â–∏–∫ –∏–ª–∏ —Å—Ç–µ–Ω—É —á–µ–ª–æ–≤–µ—á–µ–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º –ø–æ–ª–µ. 

[–ü—Ä–∏–º–µ—Ä](https://code.world/run.html?mode=haskell&dhash=Dc_b4IxNW5al9Tdbd6lWjLw).

### 2.2 –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞—é—â–∏–π—Å—è —á–µ–ª–æ–≤–µ—á–µ–∫
–¢–µ–ø–µ—Ä—å –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —á–µ–ª–æ–≤–µ—á–µ–∫ —Å–º–æ—Ç—Ä–µ–ª –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–≤–∏–∂–µ–Ω–∏—è. –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —á–µ–ª–æ–≤–µ—á–µ–∫–∞ —Ñ—É–Ω–∫—Ü–∏–µ–π `player :: Direction -> Picture`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∏—Å–æ–≤–∞—Ç—å –µ–≥–æ –≤ –æ–¥–Ω–æ–º –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏–∑–º–µ–Ω–∏—Ç–µ `main` —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —á–µ–ª–æ–≤–µ—á–µ–∫ —Å–º–æ—Ç—Ä–µ–ª –≤ —Ç—É —Å—Ç–æ—Ä–æ–Ω—É, –≤ –∫–æ—Ç–æ—Ä—É—é –æ–Ω –ø—ã—Ç–∞–ª—Å—è –ø–æ–π—Ç–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ö–æ–¥—É.

–ü–æ–¥—Å–∫–∞–∑–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–¥—É–º–∞–π—Ç–µ, –∫–∞–∫–æ–µ —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

[–ü—Ä–∏–º–µ—Ä](https://code.world/run.html?mode=haskell&dhash=Dr4pJqT05HUuOSmv2njd9qg).

### 2.3 –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
–ë—ã–ª–æ –±—ã –Ω–µ–ø–ª–æ—Ö–æ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É —Å –Ω–∞—á–∞–ª–∞. –≠—Ç–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –¥–æ–≤–æ–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —á—Ç–æ –¥–ª—è –Ω–∞—à–µ–π –∏–≥—Ä—ã, —á—Ç–æ –¥–ª—è –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, —Ç–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ —Ä–µ—à–∏–º –∑–∞–¥–∞—á—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ.

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é
```haskell
resetableActivityOf ::
    world ->
    (Event -> world -> world) ->
    (world -> Picture) ->
    IO ()
```
—É –∫–æ—Ç–æ—Ä–æ–π —Ç–∏–ø —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –∏ —É `activityOf`.

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–µ–±—è –≤–µ—Å—Ç–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ `activityOf` (–∫–æ—Ç–æ—Ä—É—é –æ–Ω–∞, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, –±—É–¥–µ—Ç –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞—Ç—å), –Ω–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ `Esc` —Å–æ–±—ã—Ç–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ–ª–∂–Ω–æ –º–µ–Ω—è—Ç—å—Å—è –Ω–∞ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–í –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ `resetableActivityOf` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏/–∏–ª–∏ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ top-level –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.

–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å `resetableActivityOf` –≤–º–µ—Å—Ç–æ `activityOf` –≤ `main`.

[–ü—Ä–∏–º–µ—Ä](https://code.world/run.html?mode=haskell&dhash=Ds_7PpypE0pjLFSY8qNcRTA).

### 2.4 –ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å. –û–Ω –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç -10 –¥–æ 10,
- –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤—è–∑–Ω—ã–º (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã—Ö –ø–æ–ª–µ–π –∑–µ–º–ª–∏),
- –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–º–∫–Ω—É—Ç—ã–º (–∏–≥—Ä–æ–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–π—Ç–∏ –Ω–∞ –ø—É—Å—Ç—ã–µ –ø–æ–ª—è),
- –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ—à–∞–µ–º—ã–º ([–≤–æ—Ç](https://uk.wikipedia.org/wiki/Sokoban#%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0) –ø—Ä–∞–≤–∏–ª–∞).

### –†–∞–∑–±–æ—Ä

[–†–µ—à–µ–Ω–∏–µ](Solutions/2.hs), [–†–∞–∑–±–æ—Ä](https://youtu.be/qnup96qFTl8).

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

[GitHub](Extra/ChurchEncoding.hs), [CodeWorld](https://code.world/haskell#P4U9RnIZOxKDPvDTR7gkF1g).
